<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Admin | Mascotas</title>

<style>
body{
    font-family: Poppins, sans-serif;
    background:#f4f6fb;
    padding:30px;
}
h1{color:#4a6fa5}

.card{
    background:#fff;
    padding:20px;
    border-radius:15px;
    margin-bottom:20px;
    box-shadow:0 5px 15px rgba(0,0,0,.1)
}

input,select{
    width:100%;
    padding:10px;
    margin:8px 0;
    border-radius:8px;
    border:1px solid #ccc
}

button{
    padding:10px 15px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    font-weight:600
}

.add{background:#4CAF50;color:#fff}
.edit{background:#2196F3;color:#fff}
.del{background:#f44336;color:#fff}
</style>
</head>

<body>

<script>
if(localStorage.getItem("adminLogueado")!=="true"){
    window.location.href="admin.html";
}
</script>

<h1>ğŸ¾ GestiÃ³n de Mascotas</h1>

<div class="card">
<h3>â• Agregar Mascota</h3>

<input id="nombre" placeholder="Nombre">
<input id="tipo" placeholder="Tipo (Perro / Gato)">
<input id="raza" placeholder="Raza">
<input id="edad" placeholder="Edad">
<button class="add" onclick="agregar()">Guardar</button>
</div>

<div class="card">
<h3>ğŸ“‹ Lista de Mascotas</h3>
<div id="lista"></div>
</div>

<script>
let mascotas = JSON.parse(localStorage.getItem("mascotasDB")) || [];

function guardar(){
    localStorage.setItem("mascotasDB", JSON.stringify(mascotas));
    mostrar();
}

function agregar(){
    mascotas.push({
        id: Date.now(),
        nombre: nombre.value,
        tipo: tipo.value,
        raza: raza.value,
        edad: edad.value,
        disponible:true
    });
    guardar();
    nombre.value=tipo.value=raza.value=edad.value="";
}

function borrar(id){
    mascotas = mascotas.filter(m=>m.id!==id);
    guardar();
}

function editar(id){
    const m = mascotas.find(x=>x.id===id);
    const n = prompt("Nuevo nombre", m.nombre);
    if(n){
        m.nombre=n;
        guardar();
    }
}

function mostrar(){
    lista.innerHTML="";
    mascotas.forEach(m=>{
        lista.innerHTML+=`
        <p>
        ğŸ¶ <b>${m.nombre}</b> (${m.tipo})  
        <button class="edit" onclick="editar(${m.id})">Editar</button>
        <button class="del" onclick="borrar(${m.id})">Eliminar</button>
        </p>`;
    });
}
mostrar();
</script>

<br>
<a href="admin-panel.html">â¬… Volver al Panel</a>

</body>
</html>
