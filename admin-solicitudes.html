<h1>ğŸ“¦ Solicitudes</h1>
<div id="lista"></div>

<script>
const solicitudes = JSON.parse(localStorage.getItem("solicitudesDB")) || [];
const lista = document.getElementById("lista");

function guardarCambios() {
    localStorage.setItem("solicitudesDB", JSON.stringify(solicitudes));
}

function aprobar(id) {
    const s = solicitudes.find(s => s.id === id);
    s.estado = "aprobada";

    let mascotas = JSON.parse(localStorage.getItem("mascotasDB"));
    const m = mascotas.find(m => m.nombre === s.mascota);
    if (m) m.disponible = false;

    localStorage.setItem("mascotasDB", JSON.stringify(mascotas));
    guardarCambios();
    location.reload();
}

function rechazar(id) {
    const s = solicitudes.find(s => s.id === id);
    s.estado = "rechazada";
    guardarCambios();
    location.reload();
}

solicitudes.forEach(s => {
    lista.innerHTML += `
    <div style="border:1px solid #ccc; padding:10px; margin:10px;">
        ğŸ¾ <b>${s.mascota}</b><br>
        ğŸ‘¤ ${s.adoptante}<br>
        ğŸ“ ${s.telefono}<br>
        ğŸ“… ${s.fecha}<br>
        ğŸ“Œ Estado: <b>${s.estado}</b><br><br>

        ${s.estado === "pendiente" ? `
            <button onclick="aprobar(${s.id})">âœ… Aprobar</button>
            <button onclick="rechazar(${s.id})">âŒ Rechazar</button>
        ` : ""}
    </div>`;
});
</script>
